<html>
    <head>
<canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        var canvas
        var canvasContext
        var ballX = 400
        var ballSpeedX = 15
        var ballY = 300
        var ballSpeedY = 4
        var paddle1Y = 250
        const paddleHeight = 100

        function calculateMousePos(evt){
            var rect = canvas.getBoundingClientRect()
            var root = document.documentElement
            var mouseX = evt.clientX - rect.left - root.scrollLeft
            var mouseY = evt.clientY - rect.top - root.scrollTop
            return {
                x : mouseX,
                y : mouseY
            }
            
        }
        window.onload = function(){
            canvas = document.getElementById('gameCanvas')
            canvasContext = canvas.getContext('2d')
            var fps = 30
            setInterval(function(){moveEverything()
            drawEverything()},1000/fps)
            canvas.addEventListener('mousemove',
            function(evt){
                var mousePos = calculateMousePos(evt)
                paddle1Y = mousePos.y
            })
        }
        
        function moveEverything(){
            ballX = ballX + ballSpeedX
            if ((ballX > canvas.width) || (ballX < 0)){
                ballSpeedX = -ballSpeedX
            }
            ballY = ballY + ballSpeedY
            if ((ballY > canvas.height) || (ballY < 0)){
                ballSpeedY = -ballSpeedY
            }
        }
        function drawEverything(){
            colorRect(0,0,canvas.width,canvas.height,'black')
            colorRect(0,paddle1Y,10,100,'white')
            circle(ballX,ballY,10,'white')
        }
        function circle(centerX, centerY, r, dC){
            canvasContext.fillStyle = dC
            canvasContext.beginPath()
            canvasContext.arc(centerX,centerY,r,0,Math.PI*2,true)
            canvasContext.fill()

        }
        function colorRect(lx,ty,w,h,dC){
            canvasContext.fillStyle = dC
            canvasContext.fillRect(lx,ty,w,h)
        }
    </script>
    </head>
</html>